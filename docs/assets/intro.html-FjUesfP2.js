import{_ as s,c as n,a,o as e}from"./app-By9X3Ahw.js";const l={};function p(i,t){return e(),n("div",null,[...t[0]||(t[0]=[a(`<h1 id="组件说明" tabindex="-1"><a class="header-anchor" href="#组件说明"><span>组件说明</span></a></h1><h2 id="props" tabindex="-1"><a class="header-anchor" href="#props"><span>Props</span></a></h2><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="#source-attribute">source-attribute</a></td><td style="text-align:left;">SKU可选属性</td><td style="text-align:left;">array</td><td style="text-align:left;">[]</td></tr><tr><td style="text-align:left;"><a href="#structure">structure</a></td><td style="text-align:left;">表单结构</td><td style="text-align:left;">array</td><td style="text-align:left;">[{ name: &#39;price&#39;, type: &#39;input&#39;, label: &#39;价格&#39; }, { name: &#39;stock&#39;, type: &#39;input&#39;, label: &#39;库存&#39; }]</td></tr><tr><td style="text-align:left;"><a href="#attribute">attribute</a></td><td style="text-align:left;">SKU已选属性，支持 <code>.sync</code> 修饰符</td><td style="text-align:left;">array</td><td style="text-align:left;">[]</td></tr><tr><td style="text-align:left;">sku</td><td style="text-align:left;">SKU数据，支持 <code>.sync</code> 修饰符</td><td style="text-align:left;">array</td><td style="text-align:left;">[]</td></tr><tr><td style="text-align:left;">separator</td><td style="text-align:left;">SKU字段分隔符</td><td style="text-align:left;">string</td><td style="text-align:left;">;</td></tr><tr><td style="text-align:left;">emptySku</td><td style="text-align:left;">无属性SKU名称</td><td style="text-align:left;">string</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">disabled</td><td style="text-align:left;">是否显示SKU选择栏</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">theme</td><td style="text-align:left;">SKU选择栏主题风格，可选1或2</td><td style="text-align:left;">int</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">async</td><td style="text-align:left;">是否开启异步加载</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">image-mode</td><td style="text-align:left;">图片模式：关闭/SKU/联动</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;&#39;（关闭）</td></tr><tr><td style="text-align:left;">image-component</td><td style="text-align:left;">自定义图片上传组件</td><td style="text-align:left;">component</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">resolve-image-props</td><td style="text-align:left;">上传组件上下文解析函数</td><td style="text-align:left;">function</td><td style="text-align:left;">(scope) =&gt; ({})</td></tr><tr><td style="text-align:left;">on-image-change</td><td style="text-align:left;">图片变更回调</td><td style="text-align:left;">function</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">show-group-image-switch</td><td style="text-align:left;">显示规格组图片开关</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">linked-policy</td><td style="text-align:left;">联动策略（联动模式下生效）</td><td style="text-align:left;">string</td><td style="text-align:left;">lastUpdated</td></tr><tr><td style="text-align:left;">propagate-on-table-edit</td><td style="text-align:left;">表格编辑是否回写到规格组</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">emit-sku-image-source</td><td style="text-align:left;">是否在 SKU 数据中输出图片来源组</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">sku-key</td><td style="text-align:left;">自定义 SKU 字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;sku&#39;</td></tr><tr><td style="text-align:left;">image-column-name</td><td style="text-align:left;">自定义 图片列字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;image&#39;</td></tr><tr><td style="text-align:left;">image-column-label</td><td style="text-align:left;">自定义 图片列表头名称</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;图片&#39;</td></tr><tr><td style="text-align:left;">attribute-group-name-key</td><td style="text-align:left;">自定义 规格组名字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;name&#39;</td></tr><tr><td style="text-align:left;">attribute-items-key</td><td style="text-align:left;">自定义 规格组子项数组字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;item&#39;</td></tr><tr><td style="text-align:left;">attribute-group-enable-image-key</td><td style="text-align:left;">自定义 规格组启用图片字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;enableImage&#39;</td></tr><tr><td style="text-align:left;">attribute-item-name-key</td><td style="text-align:left;">自定义 规格子项名字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;name&#39;</td></tr><tr><td style="text-align:left;">attribute-item-image-key</td><td style="text-align:left;">自定义 规格子项图片字段名</td><td style="text-align:left;">string</td><td style="text-align:left;">&#39;image&#39;</td></tr></tbody></table><h3 id="source-attribute" tabindex="-1"><a class="header-anchor" href="#source-attribute"><span>source-attribute</span></a></h3><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;">name</td><td style="text-align:left;">属性名称</td><td style="text-align:left;">string</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">item</td><td style="text-align:left;">属性可选项</td><td style="text-align:left;">array</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">canAddAttribute</td><td style="text-align:left;">是否可以添加属性</td><td style="text-align:left;">boolean</td><td style="text-align:left;">true</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 例子</span></span>
<span class="line"><span class="token punctuation">[</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;颜色&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;黑&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;金&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;白&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;内存&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;16G&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;32G&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">canAddAttribute</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;运营商&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;电信&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;移动&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;联通&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="structure" tabindex="-1"><a class="header-anchor" href="#structure"><span>structure</span></a></h3><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">可选值</th></tr></thead><tbody><tr><td style="text-align:left;">name</td><td style="text-align:left;">SKU数据里的属性</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">type</td><td style="text-align:left;">表单展示形式，默认为输入框，当设置为 slot 时，为自定义插槽</td><td style="text-align:left;">string</td><td style="text-align:left;">input</td><td style="text-align:left;">input, slot</td></tr><tr><td style="text-align:left;">skuProperty</td><td style="text-align:left;">当 type 设置为 slot 时，可选择是否插槽数据是否记录到 sku 数据里</td><td style="text-align:left;">boolean</td><td style="text-align:left;">true</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">defaultValue</td><td style="text-align:left;">默认值</td><td style="text-align:left;">any</td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">label</td><td style="text-align:left;">表头名称</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">tip</td><td style="text-align:left;">鼠标悬停提示</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">batch</td><td style="text-align:left;">是否开启批量设置</td><td style="text-align:left;">boolean</td><td style="text-align:left;">true</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">required</td><td style="text-align:left;">是否必填</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">validate</td><td style="text-align:left;">自定义校验回调方法</td><td style="text-align:left;">function</td><td style="text-align:left;">false</td><td style="text-align:left;"></td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 例子</span></span>
<span class="line"><span class="token punctuation">[</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;code&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;商品唯一编码&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">batch</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;originalprice&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;成本价&#39;</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;price&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;销售价&#39;</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;stock&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;库存&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&#39;库存数不能少于10&#39;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>stock<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">				<span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;库存不能小于10&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token punctuation">}</span></span>
<span class="line">			<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="attribute" tabindex="-1"><a class="header-anchor" href="#attribute"><span>attribute</span></a></h3><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">可选值</th></tr></thead><tbody><tr><td style="text-align:left;">name</td><td style="text-align:left;">属性名称</td><td style="text-align:left;">string</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">item</td><td style="text-align:left;">属性已选项</td><td style="text-align:left;">array</td><td style="text-align:left;"></td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 例子</span></span>
<span class="line"><span class="token punctuation">[</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;颜色&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;黑&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;红&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;运营商&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;电信&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// 需要注意 attribute 的属性名称需要 source-attribute 里存在，但 attribute 的属性已选项则没有限制</span></span>
<span class="line"><span class="token comment">// 例如下面的例子则是错误示范</span></span>
<span class="line"><span class="token punctuation">[</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;尺码&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;L&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;M&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;运营商&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">item</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;电信&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="methods" tabindex="-1"><a class="header-anchor" href="#methods"><span>Methods</span></a></h2><table><thead><tr><th style="text-align:left;">方法名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">init</td><td style="text-align:left;">初始化方法，如果数据是异步载入，需要在获取到数据后手动进行SKU表单的初始化</td></tr><tr><td style="text-align:left;">validate</td><td style="text-align:left;">SKU表单验证方法，参数为一个回调函数</td></tr><tr><td style="text-align:left;">validateField</td><td style="text-align:left;">SKU表单验证指定列方法，第一个参数为列名（structure 里的属性名），第二个参数为一个回调函数</td></tr><tr><td style="text-align:left;">clearValidate</td><td style="text-align:left;">清除SKU表单验证结果</td></tr></tbody></table><h3 id="进阶方法" tabindex="-1"><a class="header-anchor" href="#进阶方法"><span>进阶方法</span></a></h3><table><thead><tr><th style="text-align:left;">方法名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">validateFieldByColumns</td><td style="text-align:left;">按列名数组批量校验，如 <code>[&#39;price&#39;,&#39;stock&#39;]</code></td></tr><tr><td style="text-align:left;">validateFieldByRows</td><td style="text-align:left;">按行索引与列名校验，如 <code>(rowIndex, &#39;image&#39;, callback)</code></td></tr></tbody></table><h2 id="v-model-与数据格式" tabindex="-1"><a class="header-anchor" href="#v-model-与数据格式"><span>v-model 与数据格式</span></a></h2><ul><li><code>v-model:attribute</code>：规格选择的输出，示例：</li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;颜色&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;黑&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;金&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;内存&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;16G&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>v-model:sku</code>：表格数据的输出，示例（默认字段名）：</li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span> <span class="token property">&quot;sku&quot;</span><span class="token operator">:</span> <span class="token string">&quot;黑;16G&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token property">&quot;stock&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span> <span class="token property">&quot;sku&quot;</span><span class="token operator">:</span> <span class="token string">&quot;金;16G&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token property">&quot;stock&quot;</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当启用图片列（<code>image-mode=&quot;sku&quot;</code>）时，输出包含图片字段：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span> <span class="token property">&quot;sku&quot;</span><span class="token operator">:</span> <span class="token string">&quot;黑;16G&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token property">&quot;stock&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token property">&quot;image&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://.../a.png&quot;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当配置字段重命名（如 <code>sku-key=&quot;sku_code&quot;</code>、<code>image-column-name=&quot;img&quot;</code>）时，输出字段按自定义名变更。</p><h2 id="图片能力" tabindex="-1"><a class="header-anchor" href="#图片能力"><span>图片能力</span></a></h2><ul><li>行图片：设置 <code>image-mode=&quot;sku&quot;</code>，组件自动在表格右侧追加图片列；通过 <code>image-component</code> 注入上传控件；<code>on-image-change</code> 可监听变更。</li><li>组图片：开启 <code>show-group-image-switch</code> 允许为规格组子项上传图片，用于联动或展示。</li><li>联动策略：设置 <code>image-mode=&quot;linked&quot;</code> 并选择 <code>linked-policy</code>： <ul><li><code>lastUpdated</code>：最近更新的组图片优先</li><li><code>specificGroup</code>：指定组名优先（结合业务扩展）</li><li><code>priority</code>：按优先级列表匹配</li></ul></li><li>回写与来源：<code>propagate-on-table-edit</code> 允许表格编辑图片回写到规格组；<code>emit-sku-image-source</code> 在 <code>sku</code> 数据中输出图片来源组名。</li></ul><p>上传组件参数通过 <code>resolve-image-props(scope)</code> 传入，scope 包含上下文（如组名、层级、行数据等）。</p><h2 id="字段重命名" tabindex="-1"><a class="header-anchor" href="#字段重命名"><span>字段重命名</span></a></h2><p>为对接后端契约，可通过以下 Props 重命名输入输出字段：</p><table><thead><tr><th style="text-align:left;">配置项</th><th style="text-align:left;">作用</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;">sku-key</td><td style="text-align:left;">SKU 字段名</td><td style="text-align:left;">&#39;sku&#39;</td></tr><tr><td style="text-align:left;">image-column-name</td><td style="text-align:left;">图片列字段名</td><td style="text-align:left;">&#39;image&#39;</td></tr><tr><td style="text-align:left;">image-column-label</td><td style="text-align:left;">图片列表头名称</td><td style="text-align:left;">&#39;图片&#39;</td></tr><tr><td style="text-align:left;">attribute-group-name-key</td><td style="text-align:left;">规格组名字段名</td><td style="text-align:left;">&#39;name&#39;</td></tr><tr><td style="text-align:left;">attribute-items-key</td><td style="text-align:left;">规格组子项数组字段名</td><td style="text-align:left;">&#39;item&#39;</td></tr><tr><td style="text-align:left;">attribute-group-enable-image-key</td><td style="text-align:left;">规格组启用图片字段名</td><td style="text-align:left;">&#39;enableImage&#39;</td></tr><tr><td style="text-align:left;">attribute-item-name-key</td><td style="text-align:left;">规格子项名字段名</td><td style="text-align:left;">&#39;name&#39;</td></tr><tr><td style="text-align:left;">attribute-item-image-key</td><td style="text-align:left;">规格子项图片字段名</td><td style="text-align:left;">&#39;image&#39;</td></tr></tbody></table><h2 id="插槽" tabindex="-1"><a class="header-anchor" href="#插槽"><span>插槽</span></a></h2><ul><li>在 <code>structure</code> 中将列 <code>type: &#39;slot&#39;</code>，即可通过具名插槽自定义渲染。</li><li>若 <code>skuProperty: false</code>，该列仅用于展示，不写入 <code>sku</code> 输出。</li></ul><p>示例：</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SkuForm</span> <span class="token attr-name">:structure</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ name: &#39;totalPrice&#39;, type: &#39;slot&#39;, skuProperty: false }]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#totalPrice</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ row }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ (row.price * row.stock).toFixed(2) }} 元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SkuForm</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="异步加载" tabindex="-1"><a class="header-anchor" href="#异步加载"><span>异步加载</span></a></h2><ul><li>设置 <code>async</code> 开启异步模式；当分步加载 <code>source-attribute</code>、<code>attribute</code>、<code>sku</code> 完毕后，调用 <code>init()</code> 统一初始化。</li><li>适合页面分步拉取数据或切换不同数据源的场景。</li></ul><h2 id="校验" tabindex="-1"><a class="header-anchor" href="#校验"><span>校验</span></a></h2><ul><li>必填：在列上设置 <code>required: true</code></li><li>自定义：<code>validate(data, index, callback)</code> 中执行校验逻辑（支持异步）</li><li>指定列：<code>validateFieldByColumns([&#39;price&#39;,&#39;stock&#39;])</code></li><li>行校验：<code>validateFieldByRows(rowIndex, &#39;image&#39;, callback)</code></li></ul><h2 id="快速示例" tabindex="-1"><a class="header-anchor" href="#快速示例"><span>快速示例</span></a></h2><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SkuForm</span></span>
<span class="line">  <span class="token attr-name">:source-attribute</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sourceAttribute<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">:structure</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>structure<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">v-model:</span>attribute</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attribute<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">v-model:</span>sku</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sku<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">image-mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sku<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">:image-component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Uploader<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">:resolve-image-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(scope) =&gt; ({ row: scope.row?.sku })<span class="token punctuation">&quot;</span></span></span>
<span class="line"><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更多示例请查看左侧“示例”导航，所有页面均可交互并附带源码。</p>`,41)])])}const c=s(l,[["render",p]]),r=JSON.parse('{"path":"/guide/intro.html","title":"组件说明","lang":"zh-CN","frontmatter":{"lang":"zh-CN"},"git":{},"filePathRelative":"guide/intro.md"}');export{c as comp,r as data};
